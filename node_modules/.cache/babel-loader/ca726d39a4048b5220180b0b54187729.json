{"ast":null,"code":"export default class EventBus {\n  constructor() {\n    this.subscribers = new Map();\n  }\n\n  subscribe(type, handler) {\n    if (!this.subscribers.has(type)) {\n      this.subscribers.set(type, new Set());\n    }\n\n    const handlers = this.subscribers.get(type);\n    handlers.add(handler);\n    return () => {\n      handlers.delete(handler);\n    };\n  }\n\n  dispatch(type, ...args) {\n    const handlers = this.subscribers.get(type);\n\n    if (handlers) {\n      // handler needed a type assertion to fix type bug\n      handlers.forEach(handler => {\n        handler(...args);\n      });\n    }\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}